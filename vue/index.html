<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="icon" type="image/png" sizes="16x16" href="https://vuejs.org/images/icons/favicon-16x16.png">
        <title>Belajar Vue.js</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        <script src="./js/vue.js"></script>
        <script src="./node_modules/axios/dist/axios.min.js"></script>
    </head>
<body>
    <div class="container">
        <div class="col-lg-8 col-md-10 col-12 mx-auto">
            <div class="py-4">
                <h2 class="title text-center">{{ message }}</h2>
            </div>
            <div class="py-4">
                <div id="app1">
                    <p class="font-weight-bold">{{ message }}</p>
                    <input v-model="message">
                </div>
            </div>
            <div class="py-4">
                <div id="app2">
                    <p class="font-weight-bold">{{ message }}</p>
                </div>
                <p>
                    <button onclick="myFunction()">Click Me!</button>
                </p>
            </div>
            <div class="py-4">
                <div id="app3">
                    <p class="font-weight-bold">{{ message }}</p>
                </div>
                <div id="list">
                    <ul>
                        <li v-for="x in todos">
                        {{ x.text }}
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <div class=" container">
        <div class="col-md-10 col-12 mx-auto py-4">
                <h2>Vue CRUD SQL</h2>
                <div id='crud'>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Username</th>
                                <th>Name</th>
                                <th>Email</th>
                                <th class="text-center">Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Add -->
                            <tr>
                                <td><input type='text' v-model='username' v-bind:placeholder="p_username" class="form-control"></td>
                                <td><input type='text' v-model='name' v-bind:placeholder="p_name" class="form-control"></td>
                                <td><input type='text' v-model='email' v-bind:placeholder="p_mail" class="form-control"></td>
                                <td><button type="button" class="btn btn-primary" @click='addRecord();'>Add</button></td>
                            </tr>
                            <!-- Update/Delete -->
                            <tr v-for='(user,index) in users'>
                                <td>
                                    <input type='text' v-model='user.username' class="form-control">
                                </td>
                                <td>
                                    <input type='text' v-model='user.name' class="form-control" placeholder="Name">
                                </td>
                                <td>
                                    <input type='email' v-model='user.email' class="form-control" placeholder="email">
                                </td>
                                <td class="d-flex">
                                    <button type="button" class="btn btn-warning mr-2" @click='updateRecord(index,user.id);'>Update</button>
                                    <button type="button" class="btn btn-danger" @click='deleteRecord(index,user.id)'>Delete</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>

                    <div v-for='user in users'  class="mt-4">
                        <h3>Name : {{ user.name }}</h3>
                        <ul class="list-group">
                            <li class="list-group-item">Username : {{ user.username }}</li>
                            <li class="list-group-item">Email : {{ user.email }}</li>
                        </ul>
                    </div>
                </div>
        </div>
    </div>

<script src="./js/index.js"></script>
</body>
</html>